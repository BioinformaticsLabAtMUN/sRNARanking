# sRNARanking
Random Forest classifier to rank nucleotide sequences based on their likelihood to be bona fide bacterial sRNAs.

## Requirements

R (version 3 or higher) with the libraries randomForest and optparse installed. 

## Usage
The script takes as input a feature table generated by [sRNACharP](https://github.com/bioinformaticslabatmun/sRNACharP) and outputs the probability of each sequence being a bona fine sRNA or not as calculated by a Random Forest classifier.

Launching the pipeline from the terminal with the `-h ` parameter as shown below:
```
Rscript --vanilla RF_classifier4sRNA.R -h
```

shows the help message:
```
Usage: RF_classifier4sRNA.R [options]


Options:
	-i CHARACTER, --input=CHARACTER
		Input data (feature table obtained by sRNACharP)

	-o CHARACTER, --out=CHARACTER
		Filename to output predictions [default= outPredictions.txt]

	-h, --help
		Show this help message and exit
```

To run the script,  you need to specify the input feature table (required) and the filename of the output file (optional). A sample [feature table](FeatureTable.tsv) is provided. To run this script with the test data, just type on your terminal the command shown below (make sure that the feature table, the rsd file, and the R script are all in the working directory):

```
Rscript --vanilla RF_classifier4sRNA.R -i FeatureTable.tsv -o outFile.txt
```

## Output

The output file consists of three columns: the sequence ID, the probability of not being a sRNA, and the probability of being a SRNA (third column). Note that per each sequence the probability at the 2nd column + the probability at the 3rd column equals to 1. 

Empirically we found that the minimum probability threshold to deem a sequence a likely sRNA  and obtain a precision above 0.5 is 0.4 in the third column. Take into account that setting a higher minimum probability threshold of being a sRNA will increase the precision of the results.

## Citing
If you use this script, please cite:

Eppenhof EJ, Pe√±a-Castillo L. (2019) [Prioritizing bona fide bacterial small RNAs with machine learning classifiers. PeerJ 7:e6304](https://doi.org/10.7717/peerj.6304)
